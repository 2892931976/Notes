
# Protection for xmlrpc Vulnerability

You may find `POST /xmlrpc.php 200` in `/var/log/httpd/access_log` when your site is being attacked.

###### Solution  
* Method 1. Remove or Rename `wordpress/xmlrpc.php`

* Method 2. Use `.htaccess`

    * Write `wordpress/.htaccess`

            # protect xmlrpc
            <Files xmlrpc.php>
	        Order Deny,Allow
	        Deny from all
            </Files>

    * Modify `httpd.conf`

        * Make sure `AllowOverride None` in `httpd.conf`

        * Find your `<VirtualHost xx>` settings, add `Include xx/.htaccess` in `<Directory xx> </Directory>`

                ## Example: to disable xmlrpc.xml to fix Wordpress XMLRPC vunerability.

                <VirtualHost *:80>
                    ServerAdmin admin@mysite.com
                    DocumentRoot /var/www/mysite/wordpress
                    ServerName mysite.com
                    ServerAlias www.mysite.com
                    ErrorLog /var/log/httpd/mysite_err.log
                    <Directory /var/www/mysite/wordpress>
                        AllowOverride None
                        Include /var/www/mysite/wordpress/.htaccess
                    </Directory>
                </VirtualHost>

#### References
* [Protection for WordPress Pingback Vulnerability](https://perishablepress.com/wordpress-xmlrpc-pingback-vulnerability/)
* [Speed up Apache by including htaccess files into httpd.conf](http://www.g-loaded.eu/2011/11/28/speed-up-apache-by-including-htaccess-files-into-httpd-conf/)
 
